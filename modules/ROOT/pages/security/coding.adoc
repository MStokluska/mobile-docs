include::{partialsdir}/attributes.adoc[]

include::configuring-dev-env-security.adoc[]

== Setting up {device-security-service} service SDK

This guide will help you to set up the {device-security-service} service SDK in your App.

=== Prerequisites

* [x] You have xref:security/configuring-dev-env-security.adoc[configured your dev environment].
* [x] You have read the xref:configuring-dev-env.adoc[general app setup guide].

=== Importing the libraries

[role="primary"]
.Android
****
. Add the following dependency in your app's *build.gradle*:
+
[source,groovy,subs="attributes"]
----
dependencies {
    implementation 'org.aerogear:android-security:{release-number}'
}
----
****

[role="secondary"]
.iOS
****
. Add the dependency to your *Podfile*
+
[source,ruby,subs="attributes"]
----
target '[TARGET NAME]' do
    pod 'AGSSecurity', '{release-number}'
end
----

. Update the dependencies by running in your terminal
+
[source,bash]
----
$ pod install
----

. Import and get an instance of `AGSSecurity` to start using the SDK
+
[source,swift]
----
import AGSSecurity

let security = AGSSecurity()
----
****

[role="secondary"]
.Cordova
****
. Install the link:https://www.npmjs.com/package/@aerogear/security[AeroGear Security] package from link:https://www.npmjs.com/[NPM]
+
[source,bash]
----
$ npm install @aerogear/security
----

. Add the link:https://www.npmjs.com/package/@aerogear/cordova-plugin-aerogear-security[AeroGear Security plugin] for Cordova:
+
[source,bash]
----
$ cordova plugin add @aerogear/cordova-plugin-aerogear-security
----

****

[role="secondary"]
.Xamarin
****
. Install link:https://docs.microsoft.com/en-us/nuget/install-nuget-client-tools[NuGet]

. Install the link:https://www.nuget.org/packages/AeroGear.Mobile.Security[AeroGear Security] package
+
[source,bash,subs="attributes"]
----
$ dotnet add package AeroGear.Mobile.Security --version {release-number}
----

. For Android run:
+
[source,bash,subs="attributes"]
----
$ dotnet add package AeroGear.Mobile.Security.Platform.Android --version {release-number}
----

. For iOS run:
+
[source,bash,subs="attributes"]
----
$ dotnet add package AeroGear.Mobile.Security.Platform.iOS --version {release-number}
----

****

 == Initializing the SDK

You may start using Device Trust Checks right away, no further initialization steps are required.

// To start using Device Trust Checks in your Device, follow the next steps depending on your platform:

// [role="primary"]
// .Android
// ****
// Retrieve an instance of `SecurityService`:

// [source,java]
// ----
// SecurityService securityService = MobileCore.getInstance(SecurityService.class);
// ----

// Any subsequent `MobileCore#getInstance` method will return the same instance of SecurityService.
// ****

// [role="secondary"]
// .iOS
// ****
// No further steps are required.
// ****

// [role="secondary"]
// .Cordova
// ****
// No further steps are required.
// ****

// [role="secondary"]
// .Xamarin
// ****
// No further steps are required.
// ****

== Next steps

xref:security/proc_performing-device-checks.adoc[Device Trust Checks]